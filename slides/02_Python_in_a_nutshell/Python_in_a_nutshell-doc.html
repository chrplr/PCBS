<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <meta name="author" content="Christophe Pallier" />
  <title>Python in a nutshell</title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
  </style>
  <link rel="stylesheet" href="pandoc.css" type="text/css" />
</head>
<body>
<div id="header">
<h1 class="title">Python in a nutshell</h1>
<h2 class="author">Christophe Pallier</h2>
<h3 class="date">hton</h3>
</div>
<div id="TOC">
<ul>
<li><a href="#progamming-in-python">Progamming in Python</a><ul>
<li><a href="#using-jupyter-notebook">using jupyter notebook</a></li>
<li><a href="#using-ipython">using ipython</a></li>
<li><a href="#using-a-text-editor-edit-run-cycle">Using a text editor (Edit-run cycle)</a></li>
</ul></li>
<li><a href="#first-programs">First programs</a><ul>
<li><a href="#warming-up">Warming up</a></li>
<li><a href="#types">Types</a><ul>
<li><a href="#section"></a></li>
</ul></li>
</ul></li>
<li><a href="#complex-types-lists-dictionnaries">Complex types (lists, dictionnaries):</a><ul>
<li><a href="#for-loops">for Loops</a></li>
</ul></li>
<li><a href="#guess-a-number">Guess a number</a></li>
<li><a href="#programs-a.k.a-scripts">Programs (a.k.a scripts)</a><ul>
<li><a href="#assignments-to-variables">Assignments to variables:</a></li>
<li><a href="#function-calls">Function calls</a></li>
<li><a href="#testing-and-branching-instructions">Testing and branching instructions:</a></li>
<li><a href="#function-definition">function definition</a></li>
<li><a href="#importation-of-modules">importation of modules</a></li>
</ul></li>
<li><a href="#variables-assignments">Variables Assignments</a></li>
</ul>
</div>
<h1 id="progamming-in-python"><a href="#progamming-in-python">Progamming in Python</a></h1>
<p>You can program in Python in (at least) three different ways: interactively with <code>jupyter notebook</code> or with an <code>ipython</code> command line, or using an edit-run cycle approach with a program editor (e.g. <code>atom</code>, <code>idle</code>, <code>spyder</code>,…).</p>
<p>In all cases, you need to be able to open a command line window (a.k.a. a <strong>terminal</strong>): * Ubuntu-Linux: Ctrl-Alt-T (see https://help.ubuntu.com/community/UsingTheTerminal) * MacOSX: Open Finder/Applications/Utilities/Terminal (see http://www.wikihow.com/Get-to-the-Command-Line-on-a-Mac) * Windows: Win+X+Command-Prompt (see http://pcsupport.about.com/od/commandlinereference/f/open-command-prompt.htm)</p>
<h2 id="using-jupyter-notebook"><a href="#using-jupyter-notebook">using jupyter notebook</a></h2>
<p>The first step is to type <code>jupyter notebook</code> in a terminal</p>
<pre><code>mkdir -p AIP2016-files  # only if AIP2016-file does not yet exist
cd AIP2016-myfiles
jupyter notebook</code></pre>
<p>A browser will open woth a page like the one shown on the left panel of the figure below. Then, by cliking on <code>New</code> and selecting <code>Python [root]</code>, a new tab will show a page like the right panel, where you can enter python code in ‘cells’. To execute the code in a cell, just move the cursor there and press <code>Ctrl+Enter</code></p>
<table>
<tbody>
<tr class="odd">
<td align="left"><img src="img/jupyter1.png" /> <img src="#section" />(img/j</td>
<td align="left">upyter2.png)</td>
</tr>
</tbody>
</table>
<p>A nice feature of the “n jupyter notebooks” is that they are saved automatically, in .ipynb files that can be shared with other people. This is very handy, for example, to send a data analysis report by email.</p>
<p>Jupyter’s documentation si available at http://jupyter.readthedocs.io/en/latest/index.html</p>
<h2 id="using-ipython"><a href="#using-ipython">using ipython</a></h2>
<p>You can launch <code>ipython</code> in a terminal, and start typing python commands that are <em>interpreted</em> and <em>executed</em> when you press ‘Enter’.</p>
<ol start="2" style="list-style-type: decimal">
<li>Type <code>ipython</code> on the command-line and press <code>Enter</code>:</li>
</ol>
<table>
<tbody>
<tr class="odd">
<td align="left"><img src="img/ipython_terminal1.png" /></td>
<td align="left"><img src="img/ipython_terminal2.png" /></td>
</tr>
</tbody>
</table>
<ol start="3" style="list-style-type: decimal">
<li>When you terminal looks like the one of the right, you are “talking” to ipython. Enter the following commands:</li>
</ol>
<pre class="sourceCode python"><code class="sourceCode python">    <span class="ch">import</span> turtle
    turtle.circle(<span class="dv">50</span>)
    turtle;forward(<span class="dv">100</span>)
    turtle.circle(<span class="dv">50</span>)

    turtle.right(<span class="dv">90</span>)
    turtle.forward(<span class="dv">100</span>)
    turtle.right(<span class="dv">90</span>)
    turtle.heading()</code></pre>
<p>. . .</p>
<p>This way of using Python is fine if you need to quickly test an idea. But as soon as you quit <code>ipython</code> (by pressing <code>Ctrl-D</code>), you lose all traces of what you have done. To avoid that, you want to use the **Edit-run* approach.</p>
<h2 id="using-a-text-editor-edit-run-cycle"><a href="#using-a-text-editor-edit-run-cycle">Using a text editor (Edit-run cycle)</a></h2>
<p>Using a <strong>text editor</strong>, e.g. <em>atom</em>, you write a python script, that is, a series of commands, that you save in a file; then you give this file to interpret to a python interpreter. Here is how:</p>
<ol style="list-style-type: decimal">
<li>Open a Text-Editor (e.g. Atom) and a Terminal window side-by-side:</li>
</ol>
<div class="figure">
<img src="img/editor-terminal.png" />
</div>
<ol start="2" style="list-style-type: decimal">
<li>Create a <code>New File</code> in the Editor and enter the following text:</li>
</ol>
<pre class="sourceCode python"><code class="sourceCode python">    <span class="ch">import</span> turtle
    turtle.forward(<span class="dv">50</span>)
    turtle.left(<span class="dv">120</span>)
    turtle.forward(<span class="dv">100</span>)
    turtle.left(<span class="dv">120</span>)
    turtle.forward(<span class="dv">100</span>)
    turtle.left(<span class="dv">120</span>)
    turtle.forward(<span class="dv">50</span>)</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Using ‘File/Save as’, save the this text under the filename <code>myscript.py</code> in your personal (home) directory</li>
</ol>
<ul>
<li><em>run</em> with a python interpreter, by typing <code>python myscript.py</code> on a command line of the Terminal. Try it now.</li>
</ul>
<p>Important: you must make sure that the current working direcoty of the terminal is the same directory where the file myscript.py has been saved. Otherwise, you will get an error message such as ‘No such file or directory’. To fix this problem, you must use the ‘cd’ command to navigate the directory structure.</p>
<p>Remarks:</p>
<ul>
<li><p>You can learn more about Turtle graphics by reading the documentation at <a href="https://docs.python.org/2/library/turtle.html">https://docs.python.org/2/library/turtle.html</a></p></li>
<li><p>there exist a third approach which combines interactivity and persistence — the <code>ipython notebook</code>. Like Mathematica, handy for numerical processing.</p></li>
</ul>
<h1 id="first-programs"><a href="#first-programs">First programs</a></h1>
<h3 id="warming-up"><a href="#warming-up">Warming up</a></h3>
<p>Create a script <code>hello.py</code> in the editor, save it and run it on the command-line:</p>
<pre><code>name = raw_input(&#39;What is your name?&#39;)  # input() if using Python3
print(&#39;Hello &#39; + name + &#39;!&#39;)</code></pre>
<p>Concepts: string constant, variable (name), affectation, string concatenation with ‘+’</p>
<p>. . .</p>
<pre><code># multiplication by successive addition
a, b = 10, 5
sum = 0
while (a &gt; 0):
    sum = sum + b
    a = a - 1
print(sum)</code></pre>
<p>Concepts: multiple affectation, modifying a variable, while loop, indentation for blocks,</p>
<h2 id="types"><a href="#types">Types</a></h2>
<h3 id="section"><a href="#section"></a></h3>
<p>Do the following in interactive mode (ipython):</p>
<pre><code>type(10)
type(10.5)
type(&#39;bonjour&#39;)

a = 20
type(a)</code></pre>
<p>Concept: types</p>
<pre><code>print(10 + 5)
print(&quot;10&quot; + &quot;5&quot;)
print(&quot;10&quot; + 5)</code></pre>
<p>10 is an integer, 10.0 is a float, “10” is a string. It is possible to convert from one type to another:</p>
<pre><code>print(&#39;Il y a &#39; + str(10) + &#39; ans...&#39;)
print(int(&quot;10&quot;))</code></pre>
<p>. . .</p>
<pre><code>num = raw_input(&#39;entrez en nombre&#39;)
print(num)</code></pre>
<p>Question: <code>num</code> est-il un nombre ou une chaîne de caractères?</p>
<p>Exercices: faire les exercices 2.3 et 2.4 de <em>How to think like a computer scientist?</em></p>
<h1 id="complex-types-lists-dictionnaries"><a href="#complex-types-lists-dictionnaries">Complex types (lists, dictionnaries):</a></h1>
<pre><code>type([1, 2, 3])
type([&#39;a&#39;, &#39;b&#39;, &#39;c&#39;])</code></pre>
<p>. . .</p>
<pre><code>seq1 = [&#39;jean&#39;, &#39;marie&#39;, &#39;paul&#39;]
seq1[0]
seq1[1]
seq1[2]</code></pre>
<p>. . .</p>
<pre><code>dico = {&#39;windows&#39;:0, &#39;macos&#39;:0, &#39;linux&#39;:1}
type(dico)
dico[&#39;windows&#39;]
dico[&#39;macos&#39;]
dico[&#39;linux&#39;]</code></pre>
<h2 id="for-loops"><a href="#for-loops">for Loops</a></h2>
<pre><code>for x in [1, 2, 3, 4]:
    print(x*x + 2*x + 1)</code></pre>
<p>Concept: for loop</p>
<p>. . .</p>
<pre><code>numbers = [1, 2, 5, 10]
y = [(x*x + 2*x + 1) for x in numbers]
y</code></pre>
<p>concept: lists (or sequences)</p>
<p>See <a href="http://effbot.org/zone/python-list.htm">http://effbot.org/zone/python-list.htm</a></p>
<p>. . .</p>
<pre><code>for _ in range(100):
    print(&#39;All work and no play makes Jack a dull boy&#39;)</code></pre>
<p>Concepts: range to generate a list of numbers, ‘for’ loop, indentation of instuction block</p>
<p>. . .</p>
<pre><code>for name in (&#39;Jack&#39;, &#39;John&#39;, &#39;Tim&#39;):
    for _ in range(10):
        print(&#39;All work and no play makes &#39; + name + &#39; a dull boy!&#39;)</code></pre>
<p>Concepts: list of strings, double imbrication</p>
<p>Exercice: write a program that computes the sum of the first n integers (1+2+…+n)</p>
<p>. . .</p>
<pre><code>n = 100
for i in range(1, n+1)
    sum = sum + i
print(sum)</code></pre>
<p>. . .</p>
<h1 id="guess-a-number"><a href="#guess-a-number">Guess a number</a></h1>
<p>Type the following code in a text editor, save it as a Python script (with extension .py) and run it.</p>
<pre class="sourceCode python"><code class="sourceCode python">    <span class="co"># guess a number</span>
    <span class="ch">import</span> random

    target = random.randint(<span class="dv">1</span>, <span class="dv">100</span>)

    <span class="dt">print</span>(<span class="st">&quot;I am thinking about a number between 1 and 100&quot;</span>)

    guess = <span class="dt">raw_input</span>(<span class="st">&quot;Your guess? &quot;</span>)

    <span class="kw">while</span> guess != target:
        <span class="kw">if</span> guess &lt; target:
            <span class="dt">print</span>(<span class="st">&quot;Too low!&quot;</span>)
        <span class="kw">else</span>:
            <span class="dt">print</span>(<span class="st">&quot;Tow high!&quot;</span>)
        guess = <span class="dt">raw_input</span>(<span class="st">&quot;Your guess? &quot;</span>)

    <span class="dt">print</span>(<span class="st">&quot;You win! The number was indeed &quot;</span> + target)</code></pre>
<h1 id="programs-a.k.a-scripts"><a href="#programs-a.k.a-scripts">Programs (a.k.a scripts)</a></h1>
<p>A program typically consists in a series of <em>instructions</em> (aka <em>commands</em>). The main types of instructions are:</p>
<h2 id="assignments-to-variables"><a href="#assignments-to-variables">Assignments to variables:</a></h2>
<pre><code>a = &lt;expression&gt;
a, b = &lt;expression1&gt;, &lt;expression2&gt;</code></pre>
<p>Examples:</p>
<pre class="sourceCode python"><code class="sourceCode python">a = <span class="dv">24</span> + <span class="dv">56</span>
b = <span class="st">&#39;bonjour&#39;</span>
c = [<span class="st">&#39;aga&#39;</span>, <span class="st">&#39;bobo&#39;</span>, <span class="st">&#39;glop&#39;</span>]
x, y = <span class="dv">100</span>, <span class="dv">200</span></code></pre>
<p>An expression is a valid formula containing constants, variables, operators and function calls.</p>
<p>Example of expressions</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="dv">2</span> ** (<span class="dv">5</span> + <span class="dv">3</span>)
<span class="co">&#39;alpha&#39;</span> + <span class="st">&#39;</span><span class="ch">\t</span><span class="st">&#39;</span> + <span class="st">&#39;beta&#39;</span>
a &lt; b
0b10010 &amp; 0b10
math.sin(<span class="dv">10</span>)</code></pre>
<p>For a description of Python <a href="http://www.tutorialspoint.com/python/python_basic_operators.htm">http://www.tutorialspoint.com/python/python_basic_operators.htm</a></p>
<h2 id="function-calls"><a href="#function-calls">Function calls</a></h2>
<pre><code>&lt;functionname&gt;(&lt;expression1&gt;, &lt;expression2&gt;, ...).
object.functname(&lt;expressins1&gt;, ...)</code></pre>
<p>Examples:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="dt">print</span>(<span class="st">&#39;bonjour&#39;</span>)
<span class="dt">bin</span>(<span class="dv">10</span>)

c = [<span class="st">&#39;aga&#39;</span>, <span class="st">&#39;bobo&#39;</span>, <span class="st">&#39;glop&#39;</span>]
c.pop()</code></pre>
<p>Note that a function can perform some action and return a value, some only return a value.</p>
<h2 id="testing-and-branching-instructions"><a href="#testing-and-branching-instructions">Testing and branching instructions:</a></h2>
<pre><code>if expression:
    bloc_instructions
else:
    bloc_instructions

while expression:
    bloc_instructions

for variable in sequence:
    bloc_instructions</code></pre>
<p>Examples:</p>
<pre class="sourceCode python"><code class="sourceCode python">response = <span class="st">&#39;no&#39;</span>
<span class="kw">if</span> response == <span class="st">&#39;ok&#39;</span>:
    <span class="dt">print</span> <span class="st">&#39;accepted&#39;</span>
<span class="kw">else</span>:
    <span class="dt">print</span> <span class="st">&#39;rejected&#39;</span></code></pre>
<pre class="sourceCode python"><code class="sourceCode python">n = <span class="dv">0</span>
<span class="kw">while</span> n &lt; <span class="dv">10</span>:
      n = n + <span class="dv">1</span>
<span class="dt">print</span> n</code></pre>
<h2 id="function-definition"><a href="#function-definition">function definition</a></h2>
<pre><code>def &lt;funcname&gt;(list of parameters):
    bloc_instructions</code></pre>
<p>Examples:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="kw">def</span> <span class="dt">max</span>(a, b):
    <span class="kw">if</span> a &gt; b:
        <span class="kw">return</span> a
    <span class="kw">else</span>:
        <span class="kw">return</span> b</code></pre>
<h2 id="importation-of-modules"><a href="#importation-of-modules">importation of modules</a></h2>
<pre><code>import &lt;module_name&gt;
from &lt;module_name&gt; import &lt;function_name&gt;</code></pre>
<p>Examples:</p>
<pre class="sourceCode python"><code class="sourceCode python"><span class="ch">from</span> math <span class="ch">import</span> sin, pi
<span class="dt">print</span>(sin(pi/<span class="dv">2</span>))</code></pre>
<pre class="sourceCode python"><code class="sourceCode python"><span class="ch">import</span> turtle
turtle.circle(<span class="dv">50</span>)
turtle.forward(<span class="dv">100</span>)
turtle.circle(<span class="dv">50</span>)</code></pre>
<h1 id="variables-assignments"><a href="#variables-assignments">Variables Assignments</a></h1>
<p>Variables are names that point to objects in memory</p>
<p>An environment is a mapping of variables names to memory locations.</p>
<p>An expression is always evaluated in a environment.</p>
<p>When calling a function, a new environment is created which links the value of parameters to the local variables.</p>
<pre class="sourceCode python"><code class="sourceCode python">a = <span class="dv">3</span>
b = a
<span class="dt">print</span> a, b
a = <span class="dv">4</span> <span class="co"># a points to a new object</span>
<span class="dt">print</span> a, b</code></pre>
<pre class="sourceCode python"><code class="sourceCode python">a = [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>]
b = a    <span class="co"># points to the same object (a list)</span>
c = a[:] <span class="co"># makes a copy</span>
a[<span class="dv">0</span>] = <span class="dv">10</span>
<span class="dt">print</span> a, b, c</code></pre>
</body>
</html>
