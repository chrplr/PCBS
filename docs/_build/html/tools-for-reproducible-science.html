
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Tools to do Reproducible Science &#8212; Programming for Cognitive and Brain Sciences  documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Automata and Computers" href="automata-turing-machines-and-computers.html" />
    <link rel="prev" title="Writing clean code" href="tips-to-write-clean-code.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="tools-to-do-reproducible-science">
<h1>Tools to do Reproducible Science<a class="headerlink" href="#tools-to-do-reproducible-science" title="Permalink to this headline">¶</a></h1>
<p>You should strive to make your experiments, simulations and data
analyses reproducible, that is, anyone should be able to check what you
did, and reproduce it. <em>You</em> should be able to understand what you did,
even years later.</p>
<p>This means that you should:</p>
<ul class="simple">
<li><p>keep track of exactly how you selected your materials (not only the
end result)</p></li>
<li><p>keep track of the precise recipes for the data analyses</p></li>
</ul>
<p>This is very difficult to achieve! Here are some possible strategies:</p>
<ol class="arabic simple">
<li><p>keep a detailed lab notebook (few people manage to do it properly)</p></li>
<li><p>write computer scripts that automate the processing pipelines.</p></li>
<li><p>give up, hope you have not made mistakes, and will not need to check
or rerun the experiment.</p></li>
</ol>
<p>Although 3 is still the most widespread strategy among scientists, I
cannot recommend it!</p>
<div class="section" id="two-tools-literate-programming-and-version-control">
<h2>Two tools: literate programming and version control<a class="headerlink" href="#two-tools-literate-programming-and-version-control" title="Permalink to this headline">¶</a></h2>
<p><strong>Literate programming</strong> mixes code and text to produce a human readable
document. It goes way beyond simply documenting one’s code with
comments. For example:</p>
<ul class="simple">
<li><p>Rmarkdown:</p>
<ul>
<li><p><a class="reference external" href="data-analysis/comparing-two-means-dependent-groups.html">comparing two treatments with
R</a>
(<a class="reference external" href="data-analysis/comparing-two-means-dependent-groups.Rmd">source</a>)</p></li>
<li><p>see more at <a class="reference external" href="https://github.com/chrplr/statistics_with_R">https://github.com/chrplr/statistics_with_R</a></p></li>
</ul>
</li>
<li><p>jupyter notebook:</p>
<ul>
<li><p><a class="reference external" href="data-analysis/short-intro-fourier.html">tutorial on Fourier
analysis</a></p></li>
<li><p><a class="reference external" href="data-analysis/Example+of+a+single+subject-single+run+fMRI+analysis+with+nistats.html">tutorial on fMRI data
analysis</a></p></li>
<li><p>see more at
<a class="reference external" href="https://github.com/jupyter/jupyter/wiki/A-gallery-of-interesting-Jupyter-Notebooks">https://github.com/jupyter/jupyter/wiki/A-gallery-of-interesting-Jupyter-Notebooks</a></p></li>
</ul>
</li>
</ul>
<p>Remarks:</p>
<ol class="arabic simple">
<li><p>There are problems with tools such as Excel, E-Prime, …</p>
<ul class="simple">
<li><p>they are impossible to check thoroughly.</p></li>
<li><p>the files are saved in binary format (not human readable)</p></li>
<li><p>the compatibility is not assured between successive versions.</p></li>
</ul>
</li>
<li><p>In literate programming tools, text is often written in the markup
language <strong>Markdown</strong>. You should definitely learn it! (see
<a class="reference external" href="https://www.markdownguide.org/getting-started">https://www.markdownguide.org/getting-started</a>). It is good enough to
produce scientific reports (LaTeX not needed!).</p></li>
</ol>
<p><strong>Version control systems</strong> (e.g. <code class="docutils literal notranslate"><span class="pre">git</span></code>, <code class="docutils literal notranslate"><span class="pre">svn</span></code>, <code class="docutils literal notranslate"><span class="pre">mercurial</span></code>, …)
are useful for two reasons:</p>
<ol class="arabic simple">
<li><p>They allow you keep track of the complete history of a project. While
your scripts or documents improve, it keeps <em>cached copies</em> of the
previous versions. This is much, much better than M using a numbering
scheme and multiple copies of the same file or directory
(myfile001.doc, myfiles002.doc…).</p></li>
<li><p>They facilitate collaborating on projects (documents and programs)
with other people.</p></li>
</ol>
<ul class="simple">
<li><p><strong>Bad</strong>: use email’s attachments to exchange successive versions of a
file.</p></li>
<li><p><strong>Good</strong>: collaborate on a project by using a shared git repository</p></li>
</ul>
<p>To go further;</p>
<ul class="simple">
<li><p>``Software Carpentry’’ : a site dedicated to teaching basic
computing skills to researchers.
<a class="reference external" href="https://software-carpentry.org/lessons">https://software-carpentry.org/lessons</a></p></li>
<li><p>INRIA’s MOOC ``Recherche reproductible: principes méthodologiques
pour une science transparente’’
<a class="reference external" href="https://learninglab.inria.fr/mooc-recherche-reproductible-principes-methodologiques-pour-une-science-transparente/">https://learninglab.inria.fr/mooc-recherche-reproductible-principes-methodologiques-pour-une-science-transparente/</a></p></li>
<li><p>Simon Tatham ``How to Report Bugs Effectively’’
<a class="reference external" href="https://www.chiark.greenend.org.uk/~sgtatham/bugs.html">https://www.chiark.greenend.org.uk/~sgtatham/bugs.html</a></p></li>
</ul>
</div>
<hr class="docutils" />
<div class="section" id="lesson-101-how-to-compare-files-or-directories">
<h2>Lesson 101: how to compare files or directories<a class="headerlink" href="#lesson-101-how-to-compare-files-or-directories" title="Permalink to this headline">¶</a></h2>
<p>The most basic task is to compare two files. Your text editor may
already have such a function built in — for example, in Emacs, it is
accessible through the command <code class="docutils literal notranslate"><span class="pre">ediff</span></code> or the menu <em>Tools/Compare</em>).</p>
<p>You can also compare two files on the command-line with the command
<code class="docutils literal notranslate"><span class="pre">diff</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">diff</span> <span class="n">file1</span> <span class="n">file2</span>
</pre></div>
</div>
<p>But I recommend another command, <code class="docutils literal notranslate"><span class="pre">meld</span></code>, as it has a more
user-friendly output:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">meld</span> <span class="n">file1</span> <span class="n">file2</span>
</pre></div>
</div>
<p>(you may need to install the program <code class="docutils literal notranslate"><span class="pre">meld</span></code> with
<code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt-get</span> <span class="pre">install</span> <span class="pre">meld</span></code> if you are under Linux, or from
<a class="reference external" href="http://meldmerge.org">http://meldmerge.org</a>)</p>
<p>These tools also work on directories. To quickly check if there is any
difference between two directories:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">diff</span> <span class="o">-</span><span class="n">r</span> <span class="o">-</span><span class="n">q</span> <span class="n">dir1</span> <span class="n">dir2</span>
</pre></div>
</div>
<p>or</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">meld</span> <span class="n">dir1</span> <span class="n">dir2</span>
</pre></div>
</div>
<p>Note: If you compare text files that contain natural language, I
recommend <code class="docutils literal notranslate"><span class="pre">wdiff</span></code> which ignores changes in whitespaces (line breaks,
etc.). For latex files, <code class="docutils literal notranslate"><span class="pre">latexdiff</span></code> produces a formatted output that
clearly shows the textual differences.</p>
</div>
<div class="section" id="introducing-git">
<h2>Introducing git<a class="headerlink" href="#introducing-git" title="Permalink to this headline">¶</a></h2>
<p>A version control system keeps track of the history of changes to a project, allows one to explore ideas by maintaining several parallel versions of the
code.</p>
<p>In these lectures, we use Git. Although Git is a complex beast, you will only need to know a few commands (<cite>git clone, git pull, git init, git add, git
status, git commit and git push`</cite>)</p>
<div class="section" id="creating-a-local-repository">
<h3>Creating a local repository<a class="headerlink" href="#creating-a-local-repository" title="Permalink to this headline">¶</a></h3>
<p>A <em>local repository</em> is simply a folder where you have ran the command
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">init</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="n">project</span>
<span class="n">cd</span> <span class="n">project</span>
<span class="n">git</span> <span class="n">init</span>
<span class="n">Initialized</span> <span class="n">empty</span> <span class="n">Git</span> <span class="n">repository</span> <span class="ow">in</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">pallier</span><span class="o">/</span><span class="n">cours</span><span class="o">/</span><span class="n">Python</span><span class="o">/</span><span class="n">version_control</span><span class="o">/</span><span class="n">git</span><span class="o">-</span><span class="n">test</span><span class="o">/.</span><span class="n">git</span><span class="o">/</span>
</pre></div>
</div>
<p>Often, you will work on a local copy of a <em>remote repository</em>, imported
either from another directory or from the Internet using <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">chrplr</span><span class="o">/</span><span class="n">pyepl_examples</span>
</pre></div>
</div>
<p>Note: If, when you create a repository you already know that you want to
share it on the internet, I recommend to first create a repository on
<a class="reference external" href="http://github.com">http://github.com</a> or <a class="reference external" href="http://bitbucket.org">http://bitbucket.org</a>, and then <em>clone</em> it on your
local hard drive. In this way, the internet location will be
automatically added to the list of remote repositories under the name
<code class="docutils literal notranslate"><span class="pre">origin</span></code>.</p>
<p>Importanly, with git, you can still do version control locally, and only
transfer your changes to the remote repository whenever you want, or
never, because git is a <em>decentralized</em> version control system and all
repositories are equal.</p>
</div>
<div class="section" id="adding-files-to-the-local-repository">
<h3>Adding files to the local repository<a class="headerlink" href="#adding-files-to-the-local-repository" title="Permalink to this headline">¶</a></h3>
<p>While working on the <code class="docutils literal notranslate"><span class="pre">project</span></code>directory, you can tag files to
<em>track</em> using the <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">add</span></code> command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">echo</span> <span class="s1">&#39;essai1&#39;</span> <span class="o">&gt;</span> <span class="n">readme</span><span class="o">.</span><span class="n">txt</span>  <span class="c1"># create a file &quot;readme.txt&quot;; you can also use an editor like atom</span>
<span class="n">git</span> <span class="n">add</span> <span class="n">readme</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>To check which files are currently being <em>tracked</em> (or <em>staged</em> in git’s
terminology), use the command `git status``:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">status</span>
<span class="c1"># On branch master</span>
<span class="c1">#</span>
<span class="c1"># Initial commit</span>
<span class="c1">#</span>
<span class="c1"># Changes to be committed:</span>
<span class="c1">#   (use &quot;git rm --cached &lt;file&gt;...&quot; to unstage)</span>
<span class="c1">#</span>
<span class="c1">#       new file:   readme.txt</span>
<span class="c1">#</span>
</pre></div>
</div>
<p>Note that you can add entire directories, for example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">add</span> <span class="o">.</span>
</pre></div>
</div>
<p>It is possible to prevent certain files to be tracked (see
<a class="reference external" href="https://help.github.com/articles/ignoring-files">https://help.github.com/articles/ignoring-files)</a>).</p>
</div>
<div class="section" id="creating-a-commit-a-k-a-committing">
<h3>Creating a commit (a.k.a. committing)<a class="headerlink" href="#creating-a-commit-a-k-a-committing" title="Permalink to this headline">¶</a></h3>
<p>Once you are satisfied with the files in your working directory, you can
take a <em>snapshot</em>, that is make a permanent copy of all the tracked
files. This operation is also called <em>commiting</em> your changes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">commit</span> <span class="o">-</span><span class="n">m</span> <span class="s1">&#39;my first attempt&#39;</span>
<span class="p">[</span><span class="n">master</span> <span class="p">(</span><span class="n">root</span><span class="o">-</span><span class="n">commit</span><span class="p">)</span> <span class="n">a7a3a47</span><span class="p">]</span> <span class="n">First</span> <span class="n">commit</span>
<span class="mi">1</span> <span class="n">file</span> <span class="n">changed</span><span class="p">,</span> <span class="mi">1</span> <span class="n">insertion</span><span class="p">(</span><span class="o">+</span><span class="p">)</span>
<span class="n">create</span> <span class="n">mode</span> <span class="mi">100644</span> <span class="n">readme</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>This saves a snapshot (or <em>commit</em>) of the staged files in the hidden
directory <code class="docutils literal notranslate"><span class="pre">.git</span></code> at the root of your project. Unless you delete this
directory, this version of your files is saved there forever and will
always be accessible.</p>
<p>Note: Before commiting, it is always useful to check which files are
tracked and which are not, with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code>.</p>
</div>
<div class="section" id="modifying-the-project">
<h3>Modifying the project<a class="headerlink" href="#modifying-the-project" title="Permalink to this headline">¶</a></h3>
<p>Let us now modify the file <code class="docutils literal notranslate"><span class="pre">readme.txt</span></code> in the working directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">echo</span> <span class="s1">&#39;line2&#39;</span> <span class="o">&gt;&gt;</span> <span class="n">readme</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>The command <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">status</span></code> allows us to check the state of the files in
the working directory:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">status</span>
<span class="c1"># On branch master</span>
<span class="c1"># Changes not staged for commit:</span>
<span class="c1">#   (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span>
<span class="c1">#   (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)</span>
<span class="c1">#</span>
<span class="c1">#       modified:   readme.txt</span>
<span class="c1">#</span>
<span class="n">no</span> <span class="n">changes</span> <span class="n">added</span> <span class="n">to</span> <span class="n">commit</span> <span class="p">(</span><span class="n">use</span> <span class="s2">&quot;git add&quot;</span> <span class="ow">and</span><span class="o">/</span><span class="ow">or</span> <span class="s2">&quot;git commit -a&quot;</span><span class="p">)</span>


<span class="n">git</span> <span class="n">add</span> <span class="n">readme</span><span class="o">.</span><span class="n">txt</span>
<span class="n">git</span> <span class="n">status</span>
<span class="c1"># On branch master</span>
<span class="c1"># Changes to be committed:</span>
<span class="c1">#   (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)</span>
<span class="c1">#</span>
<span class="c1">#       modified:   readme.txt</span>
<span class="c1">#</span>
</pre></div>
</div>
<p>Let us create a new file, `readme2.txt``:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">echo</span> <span class="s1">&#39;trial2&#39;</span> <span class="o">&gt;</span><span class="n">readme2</span><span class="o">.</span><span class="n">txt</span>
<span class="n">ls</span>
<span class="n">readme2</span><span class="o">.</span><span class="n">txt</span>  <span class="n">readme</span><span class="o">.</span><span class="n">txt</span>
<span class="n">git</span> <span class="n">status</span>
<span class="c1"># On branch master</span>
<span class="c1"># Changes to be committed:</span>
<span class="c1">#   (use &quot;git reset HEAD &lt;file&gt;...&quot; to unstage)</span>
<span class="c1">#</span>
<span class="c1">#       modified:   readme.txt</span>
<span class="c1">#</span>
<span class="c1"># Untracked files:</span>
<span class="c1">#   (use &quot;git add &lt;file&gt;...&quot; to include in what will be committed)</span>
<span class="c1">#</span>
<span class="c1">#       readme2.txt</span>
</pre></div>
</div>
<p>We now add <code class="docutils literal notranslate"><span class="pre">readme2.txt</span></code> to the repository:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">add</span> <span class="n">readme2</span><span class="o">.</span><span class="n">txt</span>
<span class="n">git</span> <span class="n">commit</span>
<span class="p">[</span><span class="n">master</span> <span class="n">a7e25a1</span><span class="p">]</span> <span class="n">First</span> <span class="n">revision</span><span class="p">;</span> <span class="n">added</span> <span class="n">readme2</span><span class="o">.</span><span class="n">txt</span>
<span class="mi">2</span> <span class="n">files</span> <span class="n">changed</span><span class="p">,</span> <span class="mi">2</span> <span class="n">insertions</span><span class="p">(</span><span class="o">+</span><span class="p">),</span> <span class="mi">1</span> <span class="n">deletion</span><span class="p">(</span><span class="o">-</span><span class="p">)</span>
<span class="n">create</span> <span class="n">mode</span> <span class="mi">100644</span> <span class="n">readme2</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>Let us consult the history of the project:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">log</span>
<span class="n">commit</span> <span class="n">a7e25a158ce52a75c62381420f7dc375de631b1b</span>
<span class="n">Author</span><span class="p">:</span> <span class="n">Christophe</span> <span class="n">Pallier</span> <span class="o">&lt;</span><span class="n">christophe</span><span class="nd">@pallier</span><span class="o">.</span><span class="n">org</span><span class="o">&gt;</span>
<span class="n">Date</span><span class="p">:</span>   <span class="n">Mon</span> <span class="n">Aug</span> <span class="mi">27</span> <span class="mi">10</span><span class="p">:</span><span class="mi">49</span><span class="p">:</span><span class="mi">54</span> <span class="mi">2012</span> <span class="o">+</span><span class="mi">0200</span>

<span class="n">First</span> <span class="n">revision</span><span class="p">;</span> <span class="n">added</span> <span class="n">readme2</span><span class="o">.</span><span class="n">txt</span>

<span class="n">commit</span> <span class="n">a7a3a47edfae9d7c720356b691000a81ded73906</span>
<span class="n">Author</span><span class="p">:</span> <span class="n">Christophe</span> <span class="n">Pallier</span> <span class="o">&lt;</span><span class="n">christophe</span><span class="nd">@pallier</span><span class="o">.</span><span class="n">org</span><span class="o">&gt;</span>
<span class="n">Date</span><span class="p">:</span>   <span class="n">Mon</span> <span class="n">Aug</span> <span class="mi">27</span> <span class="mi">10</span><span class="p">:</span><span class="mi">47</span><span class="p">:</span><span class="mi">32</span> <span class="mi">2012</span> <span class="o">+</span><span class="mi">0200</span>

<span class="n">First</span> <span class="n">commit</span>



<span class="n">git</span> <span class="n">status</span>
<span class="c1"># On branch master</span>
<span class="n">nothing</span> <span class="n">to</span> <span class="n">commit</span> <span class="p">(</span><span class="n">working</span> <span class="n">directory</span> <span class="n">clean</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="renaming-a-file">
<h3>Renaming a file<a class="headerlink" href="#renaming-a-file" title="Permalink to this headline">¶</a></h3>
<p>To rename a tracked file, you should use <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">mv</span></code> rather then just
`mv``:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">mv</span> <span class="n">file</span><span class="o">.</span><span class="n">ori</span> <span class="n">file</span><span class="o">.</span><span class="n">new</span>
</pre></div>
</div>
</div>
<div class="section" id="recovering-a-file-deleted-by-accident">
<h3>Recovering a file deleted by accident<a class="headerlink" href="#recovering-a-file-deleted-by-accident" title="Permalink to this headline">¶</a></h3>
<p>Let us delete readme2.txt “by accident”:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rm</span> <span class="n">readme2</span><span class="o">.</span><span class="n">txt</span> <span class="c1"># oops</span>
<span class="n">ls</span>
<span class="n">readme</span><span class="o">.</span><span class="n">txt</span>
<span class="n">git</span> <span class="n">status</span>
<span class="c1"># On branch master</span>
<span class="c1"># Changes not staged for commit:</span>
<span class="c1">#   (use &quot;git add/rm &lt;file&gt;...&quot; to update what will be committed)</span>
<span class="c1">#   (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)</span>
<span class="c1">#</span>
<span class="c1">#       deleted:    readme2.txt</span>
<span class="c1">#</span>
<span class="n">no</span> <span class="n">changes</span> <span class="n">added</span> <span class="n">to</span> <span class="n">commit</span> <span class="p">(</span><span class="n">use</span> <span class="s2">&quot;git add&quot;</span> <span class="ow">and</span><span class="o">/</span><span class="ow">or</span> <span class="s2">&quot;git commit -a&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>To recover it:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">checkout</span> <span class="o">--</span> <span class="n">readme2</span><span class="o">.</span><span class="n">txt</span>
<span class="n">ls</span>
<span class="n">readme2</span><span class="o">.</span><span class="n">txt</span>  <span class="n">readme</span><span class="o">.</span><span class="n">txt</span>
<span class="n">cat</span> <span class="n">readme2</span><span class="o">.</span><span class="n">txt</span>
<span class="n">trial2</span>
</pre></div>
</div>
</div>
<div class="section" id="checking-for-changes">
<h3>Checking for changes<a class="headerlink" href="#checking-for-changes" title="Permalink to this headline">¶</a></h3>
<p>Let us now modify readme2.txt and then compare the file in the current
directory from the ones in the last commit:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">echo</span> <span class="s1">&#39;line2 of 2&#39;</span> <span class="o">&gt;</span> <span class="n">readme2</span><span class="o">.</span><span class="n">txt</span>
<span class="n">git</span> <span class="n">diff</span>
<span class="n">diff</span> <span class="o">--</span><span class="n">git</span> <span class="n">a</span><span class="o">/</span><span class="n">readme2</span><span class="o">.</span><span class="n">txt</span> <span class="n">b</span><span class="o">/</span><span class="n">readme2</span><span class="o">.</span><span class="n">txt</span>
<span class="n">index</span> <span class="mi">33</span><span class="n">d1e15</span><span class="o">..</span><span class="n">e361691</span> <span class="mi">100644</span>
<span class="o">---</span> <span class="n">a</span><span class="o">/</span><span class="n">readme2</span><span class="o">.</span><span class="n">txt</span>
<span class="o">+++</span> <span class="n">b</span><span class="o">/</span><span class="n">readme2</span><span class="o">.</span><span class="n">txt</span>
<span class="o">@@</span> <span class="o">-</span><span class="mi">1</span> <span class="o">+</span><span class="mi">1</span> <span class="o">@@</span>
<span class="o">-</span><span class="n">trial2</span>
<span class="o">+</span><span class="n">line2</span> <span class="n">of</span> <span class="mi">2</span>
<span class="n">git</span> <span class="n">status</span>
<span class="c1"># On branch master</span>
<span class="c1"># Changes not staged for commit:</span>
<span class="c1">#   (use &quot;git add &lt;file&gt;...&quot; to update what will be committed)</span>
<span class="c1">#   (use &quot;git checkout -- &lt;file&gt;...&quot; to discard changes in working directory)</span>
<span class="c1">#</span>
<span class="c1">#       modified:   readme2.txt</span>
<span class="c1">#</span>
<span class="n">no</span> <span class="n">changes</span> <span class="n">added</span> <span class="n">to</span> <span class="n">commit</span> <span class="p">(</span><span class="n">use</span> <span class="s2">&quot;git add&quot;</span> <span class="ow">and</span><span class="o">/</span><span class="ow">or</span> <span class="s2">&quot;git commit -a&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>You prefer meld, you can use</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">difftool</span> <span class="o">-</span><span class="n">t</span> <span class="n">meld</span>
</pre></div>
</div>
<p>Compare the working version of a f
ile with the one in the last commit
———————————————————————</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">diff</span> <span class="n">HEAD</span>
</pre></div>
</div>
</div>
<div class="section" id="inspecting-the-history-of-the-project">
<h3>Inspecting the history of the project<a class="headerlink" href="#inspecting-the-history-of-the-project" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">log</span>
</pre></div>
</div>
<p>For a graphical view of the history of the project:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gitk</span>
</pre></div>
</div>
</div>
<div class="section" id="branches">
<h3>Branches<a class="headerlink" href="#branches" title="Permalink to this headline">¶</a></h3>
<p>One interest of git is that it is possible to create several branches to
make independent developments and merge them later.</p>
<p>To create a new branch:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">checkout</span> <span class="o">-</span><span class="n">b</span> <span class="p">[</span><span class="n">new_branch_name</span><span class="p">]</span>
</pre></div>
</div>
<p>To list all branches:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">branch</span> <span class="o">-</span><span class="n">a</span>
</pre></div>
</div>
<p>To switch to an existing branch:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">checkout</span> <span class="p">[</span><span class="n">branch_name</span><span class="p">]</span>
</pre></div>
</div>
<p>To compare two branches</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">difftool</span> <span class="o">-</span><span class="n">d</span> <span class="n">branch1</span><span class="o">..</span><span class="n">branch2</span>
</pre></div>
</div>
<p>To compare a specific file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">difftool</span> <span class="n">branch1</span><span class="o">..</span><span class="n">branch2</span> <span class="o">--</span> <span class="n">filename</span>
</pre></div>
</div>
<p>To merge a branch to the master branch:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">checkout</span> <span class="n">master</span>
<span class="n">git</span> <span class="n">merge</span> <span class="p">[</span><span class="n">branch_name</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="working-with-remotes">
<h2>Working with remotes<a class="headerlink" href="#working-with-remotes" title="Permalink to this headline">¶</a></h2>
<p>To add a remote repository</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">remote</span> <span class="n">add</span> <span class="o">-</span><span class="n">f</span> <span class="n">nameforremote</span> <span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">repo_b</span><span class="o">.</span><span class="n">git</span>
<span class="n">git</span> <span class="n">remote</span> <span class="n">update</span>
</pre></div>
</div>
<p>To list the remotes</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">remote</span> <span class="o">-</span><span class="n">v</span>
</pre></div>
</div>
<p>To compare the current branch with one in a remote</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">diff</span> <span class="n">master</span> <span class="n">remotes</span><span class="o">/</span><span class="n">b</span><span class="o">/</span><span class="n">master</span>
</pre></div>
</div>
<p>To see branches on remotes</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">branch</span> <span class="o">-</span><span class="n">r</span>
</pre></div>
</div>
<p>(To see local branches: <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">branch</span> <span class="pre">-l</span></code>, all branches,
<code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">branch</span> <span class="pre">-a</span></code>)</p>
<div class="section" id="downloading-the-most-recent-changes-from-the-distant-repository">
<h3>Downloading the most recent changes from the distant repository<a class="headerlink" href="#downloading-the-most-recent-changes-from-the-distant-repository" title="Permalink to this headline">¶</a></h3>
<p>If you imported your repository from the internet with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">clone</span></code>,
you can import the recent changes with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">fetch</span>
<span class="n">git</span> <span class="n">merge</span>
</pre></div>
</div>
</div>
<div class="section" id="comparing-the-local-working-direcoty-with-a-remote">
<h3>Comparing the local working direcoty with a remote<a class="headerlink" href="#comparing-the-local-working-direcoty-with-a-remote" title="Permalink to this headline">¶</a></h3>
<p>If you want to compare the current working directory with the distant
remote origin/master.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">fetch</span> <span class="n">origin</span> <span class="n">master</span>
<span class="n">git</span> <span class="n">diff</span> <span class="o">--</span><span class="n">summary</span> <span class="n">FETCH_HEAD</span>
<span class="n">git</span> <span class="n">diff</span> <span class="o">--</span><span class="n">stat</span> <span class="n">FETCH_HEAD</span>
</pre></div>
</div>
</div>
<div class="section" id="pushing-your-changes-to-the-distant-repository">
<h3>Pushing your changes to the distant repository<a class="headerlink" href="#pushing-your-changes-to-the-distant-repository" title="Permalink to this headline">¶</a></h3>
<p>You can send your modified repository (after commiting) to the original
remote internet repository:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">push</span>
</pre></div>
</div>
</div>
<div class="section" id="handling-very-large-files-e-g-data">
<h3>Handling very large files (e.g. data)<a class="headerlink" href="#handling-very-large-files-e-g-data" title="Permalink to this headline">¶</a></h3>
<p>git-annex allows you to leave large files in some of the repositories
and keep only links in others.</p>
<p>See <a class="reference external" href="https://writequit.org/articles/getting-started-with-git-annex.html">https://writequit.org/articles/getting-started-with-git-annex.html</a>
and <a class="reference external" href="https://git-annex.branchable.com/walkthrough/">https://git-annex.branchable.com/walkthrough/</a></p>
</div>
<div class="section" id="resources-to-learn-more-about-git">
<h3>Resources to learn more about Git<a class="headerlink" href="#resources-to-learn-more-about-git" title="Permalink to this headline">¶</a></h3>
<p>To learn more about git, check out:</p>
<ul class="simple">
<li><p>Openclassrooms’ MOOC <a class="reference external" href="https://openclassrooms.com/en/courses/3321726-manage-your-code-with-git-and-github?status=published">Manage your code with Git and Github</a></p></li>
<li><p><a class="reference external" href="https://product.hubspot.com/blog/git-and-github-tutorial-for-beginners">https://product.hubspot.com/blog/git-and-github-tutorial-for-beginners</a></p></li>
<li><p><a class="reference external" href="https://git-scm.com/book/en/v2/Getting-Started-Git-Basics">https://git-scm.com/book/en/v2/Getting-Started-Git-Basics</a></p></li>
<li><p>The <a class="reference external" href="https://git-scm.com/book/en/v2">Git Book</a></p></li>
<li><p>My own <a class="reference external" href="http://www.pallier.org/version-control-at-your-fingertips-a-quick-start-with-git.html#version-control-at-your-fingertips-a-quick-start-with-git">git cheat page</a></p></li>
<li><p><a class="reference external" href="https://backlogtool.com/git-guide/en/">https://backlogtool.com/git-guide/en/</a></p></li>
<li><p><a class="reference external" href="https://www.atlassian.com/git/tutorials">https://www.atlassian.com/git/tutorials</a></p></li>
</ul>
<p>To understand the inner workings of git, the following documents are useful:</p>
<ul class="simple">
<li><p><a class="reference external" href="http://tom.preston-werner.com/2009/05/19/the-git-parable.html">The Git Parable</a></p></li>
<li><p><a class="reference external" href="https://jwiegley.github.io/git-from-the-bottom-up/">Git from the bottom up</a></p></li>
</ul>
<p>Finally, the comprehensive documentation is the <a class="reference external" href="https://git-scm.com/book/en/v2">Git Book</a></p>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Programming for Cognitive and Brain Sciences</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="first-things-first.html">First things first</a></li>
<li class="toctree-l1"><a class="reference internal" href="running-python.html">Running Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="resources.html">Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="how-to-solve-problems.html">How to solve problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="tips-to-write-clean-code.html">Writing clean code</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Tools to do Reproducible Science</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#two-tools-literate-programming-and-version-control">Two tools: literate programming and version control</a></li>
<li class="toctree-l2"><a class="reference internal" href="#lesson-101-how-to-compare-files-or-directories">Lesson 101: how to compare files or directories</a></li>
<li class="toctree-l2"><a class="reference internal" href="#introducing-git">Introducing git</a></li>
<li class="toctree-l2"><a class="reference internal" href="#working-with-remotes">Working with remotes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="automata-turing-machines-and-computers.html">Automata and Computers</a></li>
<li class="toctree-l1"><a class="reference internal" href="automata-turing-machines-and-computers.html#practical-interaction-with-a-computer-in-a-nut-shell">Practical interaction with a computer (in a Nut <em>shell</em>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="main.html">Creating static visual stimuli</a></li>
<li class="toctree-l1"><a class="reference internal" href="main.html#creating-dynamic-visual-stimuli">Creating dynamic visual stimuli</a></li>
<li class="toctree-l1"><a class="reference internal" href="main.html#creating-and-playing-sounds">Creating and playing sounds</a></li>
<li class="toctree-l1"><a class="reference internal" href="main.html#experiments">Experiments</a></li>
<li class="toctree-l1"><a class="reference internal" href="main.html#data-analyses">Data Analyses</a></li>
<li class="toctree-l1"><a class="reference internal" href="main.html#lexical-statistics">Lexical Statistics</a></li>
<li class="toctree-l1"><a class="reference internal" href="main.html#simulations">Simulations</a></li>
<li class="toctree-l1"><a class="reference internal" href="projects.html">Projects</a></li>
<li class="toctree-l1"><a class="reference internal" href="projects.html#examples-of-students-projects-from-previous-sessions">Examples of Students’ Projects from previous sessions</a></li>
<li class="toctree-l1"><a class="reference internal" href="scratch/Starting-from-Scratch.html">Starting from Scratch</a></li>
<li class="toctree-l1"><a class="reference internal" href="representing-numbers-images-text.html">Representations of numbers, text, images</a></li>
<li class="toctree-l1"><a class="reference internal" href="coding-exercices.html">Programming Exercices</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="tips-to-write-clean-code.html" title="previous chapter">Writing clean code</a></li>
      <li>Next: <a href="automata-turing-machines-and-computers.html" title="next chapter">Automata and Computers</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;CC-BY-SA 2019, Christophe Pallier.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 2.2.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/tools-for-reproducible-science.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>